# Dockerfile para Cliente GTK Remoto
FROM ubuntu:20.04

# Evitar prompts interativos
ENV DEBIAN_FRONTEND=noninteractive

# Instalar dependências GTK e ferramentas de rede
RUN apt-get update && apt-get install -y \
    build-essential \
    pkg-config \
    libgtk-3-dev \
    curl \
    xauth \
    x11-apps \
    iputils-ping \
    && rm -rf /var/lib/apt/lists/*

# Criar diretório de trabalho
WORKDIR /app

# Copiar arquivos do projeto
COPY . .

# Compilar o cliente GTK remoto
RUN g++ -o cliente_gtk_remoto main_remoto.cpp `pkg-config --cflags --libs gtk+-3.0`

# Configurar X11
ENV DISPLAY=:0

# Comando de execução com IP como parâmetro
ENTRYPOINT ["./cliente_gtk_remoto"]
CMD ["192.168.1.100"]